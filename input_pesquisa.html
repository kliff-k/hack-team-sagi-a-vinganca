<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>[DEV] Input Pesquisa</title>
</head>
<body>
<input type="text" id="pesquisa" list="sugestoes">
<datalist id="sugestoes">
</datalist>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
    $(()=>{
        $('#pesquisa').each((i,e)=>{
            let $element = $(e);
            $element.on('input', ()=>{
                let query = e.value;

                console.log(query);
                $.ajax({
                    method: 'GET',
                    url: 'https://hs2019st.com:8983/solr/servicos/suggest?suggest=true&suggest.build=true&suggest.dictionary=mySuggester&wt=json&suggest.count=10',
                    data: {
                        'suggest.q' : query
                    },
                    success: (data)=>{
                        console.log(data);
                        let response = JSON.parse(data);
                        console.log(response);
                        // let suggestions = response.suggest.mySuggester.
                        // $('#sugestoes');
                    }
                });
            });
        });
    });
</script>
</body>
</html>